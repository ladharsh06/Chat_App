{"ast":null,"code":"import _objectSpread from\"C:/Users/HARSH/Downloads/CHAT_APPLICATION-main (1)/CHAT_APPLICATION-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import MyMessage from'./MyMessage';import TheirMessage from'./TheirMessage';import MessageForm from'./MessageForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChatFeed=function ChatFeed(props){var chats=props.chats,activeChat=props.activeChat,userName=props.userName,messages=props.messages;var chat=chats&&chats[activeChat];var renderReadReceipts=function renderReadReceipts(message,isMyMessage){return chat.people.map(function(person,index){return person.last_read===message.id&&/*#__PURE__*/_jsx(\"div\",{className:\"read-receipt\",style:{float:isMyMessage?'right':'left',backgroundImage:person.person.avatar&&\"url(\".concat(person.person.avatar,\")\")}},\"read_\".concat(index));});};var renderMessages=function renderMessages(){var keys=Object.keys(messages);return keys.map(function(key,index){var message=messages[key];var lastMessageKey=index===0?null:keys[index-1];var isMyMessage=userName===message.sender.username;return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-block\",children:isMyMessage?/*#__PURE__*/_jsx(MyMessage,{message:message}):/*#__PURE__*/_jsx(TheirMessage,{message:message,lastMessage:messages[lastMessageKey]})}),/*#__PURE__*/_jsx(\"div\",{className:\"read-receipts\",style:{marginRight:isMyMessage?'18px':'0px',marginLeft:isMyMessage?'0px':'68px'},children:renderReadReceipts(message,isMyMessage)})]},\"msg_\".concat(index));});};if(!chat)return/*#__PURE__*/_jsx(\"div\",{});return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-feed\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-title-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chat-title\",children:chat===null||chat===void 0?void 0:chat.title}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-subtitle\",children:chat.people.map(function(person){return\" \".concat(person.person.username);})})]}),renderMessages(),/*#__PURE__*/_jsx(\"div\",{style:{height:'100px'}}),/*#__PURE__*/_jsx(\"div\",{className:\"message-form-container\",children:/*#__PURE__*/_jsx(MessageForm,_objectSpread(_objectSpread({},props),{},{chatId:activeChat}))})]});};export default ChatFeed;","map":{"version":3,"names":["MyMessage","TheirMessage","MessageForm","jsx","_jsx","jsxs","_jsxs","ChatFeed","props","chats","activeChat","userName","messages","chat","renderReadReceipts","message","isMyMessage","people","map","person","index","last_read","id","className","style","float","backgroundImage","avatar","concat","renderMessages","keys","Object","key","lastMessageKey","sender","username","width","children","lastMessage","marginRight","marginLeft","title","height","_objectSpread","chatId"],"sources":["C:/Users/HARSH/Downloads/CHAT_APPLICATION-main (1)/CHAT_APPLICATION-main/src/components/ChatFeed.jsx"],"sourcesContent":["import MyMessage from './MyMessage';\nimport TheirMessage from './TheirMessage';\nimport MessageForm from './MessageForm';\n\nconst ChatFeed = (props) => {\n  const { chats, activeChat, userName, messages } = props;\n\n  const chat = chats && chats[activeChat];\n\n  const renderReadReceipts = (message, isMyMessage) => chat.people.map((person, index) => person.last_read === message.id && (\n    <div\n      key={`read_${index}`}\n      className=\"read-receipt\"\n      style={{\n        float: isMyMessage ? 'right' : 'left',\n        backgroundImage: person.person.avatar && `url(${person.person.avatar})`,\n      }}\n    />\n  ));\n\n  const renderMessages = () => {\n    const keys = Object.keys(messages);\n\n    return keys.map((key, index) => {\n      const message = messages[key];\n      const lastMessageKey = index === 0 ? null : keys[index - 1];\n      const isMyMessage = userName === message.sender.username;\n\n      return (\n        <div key={`msg_${index}`} style={{ width: '100%' }}>\n          <div className=\"message-block\">\n            {isMyMessage\n              ? <MyMessage message={message} />\n              : <TheirMessage message={message} lastMessage={messages[lastMessageKey]} />}\n          </div>\n          <div className=\"read-receipts\" style={{ marginRight: isMyMessage ? '18px' : '0px', marginLeft: isMyMessage ? '0px' : '68px' }}>\n            {renderReadReceipts(message, isMyMessage)}\n          </div>\n        </div>\n      );\n    });\n  };\n\n  if (!chat) return <div />;\n\n  return (\n    <div className=\"chat-feed\">\n      <div className=\"chat-title-container\">\n        <div className=\"chat-title\">{chat?.title}</div>\n        <div className=\"chat-subtitle\">\n          {chat.people.map((person) => ` ${person.person.username}`)}\n        </div>\n      </div>\n      {renderMessages()}\n      <div style={{ height: '100px' }} />\n      <div className=\"message-form-container\">\n        <MessageForm {...props} chatId={activeChat} />\n      </div>\n    </div>\n  );\n};\n\nexport default ChatFeed;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}